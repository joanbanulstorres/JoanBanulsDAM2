<html>
    <head>
        <style>
            #lienzo{border:1px solid black;}
        </style>
        <script src="lib3D.js"></script>
    </head>
    <body>
        <canvas width="512px" height="512px" id="lienzo"></canvas>
        <script>
                        
            var contexto = document.getElementById("lienzo").getContext("2d");
            var centrox = document.getElementById("lienzo").width/2;
            var centroy = document.getElementById("lienzo").height/2;
            var lienzo = document.getElementById("lienzo");
            var ratonPulsado = false;
            var mx = 0;     // Movimiento en x
            var my = 0;     // Movimiento en y
            
            contexto.strokeStyle = 'rgb(0, 0, 0, 0.5)';
            contexto.fillStyle = 'rgba(0, 0, 255, 0.1)'; 
            
            var cubos = new Array();
            /* for(var i=0; i<10; i++){
                var r = Math.round(Math.random() * 255);
                var g = Math.round(Math.random() * 255);
                var b = Math.round(Math.random() * 255);
                var centrocubo = new Vertice3D((Math.random() - 0.5) * 30, Math.random() * 30, (Math.random() - 0.5) * 30);      // No queremos que la 'y' sea negativa
                cubos[i] = new Cubo(centrocubo, Math.random() * 5, 'rgba('+r+', '+g+', '+b+', 0.5)');
            } */
            contador = 0;
            for(var x=0; x<5; x++){
                for(var y=0; y<5; y++){
                    var r = Math.round(Math.random() * 255);
                    var g = Math.round(Math.random() * 255);
                    var b = Math.round(Math.random() * 255);
                    var centrocubo = new Vertice3D(x*30, y*30+40, 0);
                    cubos[contador] = new Cubo(centrocubo, 30, 'rgba('+r+', '+g+', '+b+', 0.5)');
                    contador++;
                }
            }

            lienzo.addEventListener('mousedown', empezarMovimiento);
            lienzo.addEventListener('mousemove', mover);
            lienzo.addEventListener('mouseup', pararMovimiento);
            
            var objetos = cubos;

            representacion(objetos, contexto, centrox, centroy);

        </script>
    </body>
</html>